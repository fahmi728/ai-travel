import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "text/plain",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location : Las Vegas for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in valid JSON format that can convert it with JSON.prase whitout any error",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: 'Okay, here\'s a JSON format travel plan for a couple visiting Las Vegas for 3 days on a cheap budget. This plan prioritizes free or low-cost activities, affordable dining, and budget-friendly hotel options.  It includes all the details you requested.\n\n```json\n{\n  "tripName": "Las Vegas Budget Getaway for Couples",\n  "destination": "Las Vegas, Nevada",\n  "duration": "3 Days",\n  "budget": "Cheap (Prioritizing Free Activities & Affordable Options)",\n  "travelers": "Couple",\n  "currency": "USD",\n  "hotelOptions": [\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": 40,\n      "hotelImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/26/92/55/d4/circus-circus-hotel-casino.jpg?w=700&h=-1&s=1",\n      "geoCoordinates": {\n        "latitude": 36.1283,\n        "longitude": -115.1657\n      },\n      "rating": 3.5,\n      "description": "Budget-friendly option on the Strip with circus-themed attractions and affordable dining.  Expect basic accommodations but a lively atmosphere. Offers free circus acts.",\n      "amenities": ["Free parking", "Pool", "Casino", "Restaurants"]\n    },\n    {\n      "hotelName": "Stratosphere Hotel, Casino & Tower",\n      "hotelAddress": "2000 S Las Vegas Blvd, Las Vegas, NV 89104",\n      "price": 50,\n      "hotelImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/16/23/0f/e3/the-strat-hotel-casino.jpg?w=700&h=-1&s=1",\n      "geoCoordinates": {\n        "latitude": 36.1472,\n        "longitude": -115.1574\n      },\n      "rating": 3.7,\n      "description": "Located at the north end of the Strip, offering great views from the tower (separate fee).  Rooms are generally affordable, but be aware of the location.  Considered a budget-friendly option.",\n      "amenities": ["Pool", "Casino", "Tower Access (fee)", "Restaurants"]\n    },\n    {\n      "hotelName": "Excalibur Hotel & Casino",\n      "hotelAddress": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": 60,\n      "hotelImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/27/0c/4e/98/excalibur-hotel-casino.jpg?w=700&h=-1&s=1",\n      "geoCoordinates": {\n        "latitude": 36.0984,\n        "longitude": -115.1744\n      },\n      "rating": 3.8,\n      "description": "A medieval-themed hotel at the southern end of the Strip. Offers affordable rooms and dining options. Connected to Luxor and Mandalay Bay by free trams.",\n      "amenities": ["Pool", "Casino", "Restaurants", "Free Tram Access"]\n    }\n  ],\n  "itinerary": {\n    "day1": {\n      "theme": "The Strip & Free Attractions",\n      "bestTimeToVisit": "Afternoon/Evening",\n      "activities": [\n        {\n          "placeName": "Welcome to Las Vegas Sign",\n          "placeDetails": "Iconic sign for a photo opportunity. Can be crowded, so go early or late.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Welcome_to_Las_Vegas_sign.JPG/1280px-Welcome_to_Las_Vegas_sign.JPG",\n          "geoCoordinates": {\n            "latitude": 36.0829,\n            "longitude": -115.1731\n          },\n          "ticketPricing": "Free",\n          "rating": 4.5,\n          "timeTravel": "Depends on hotel location (allow 30-60 minutes roundtrip)"\n        },\n        {\n          "placeName": "Bellagio Conservatory & Botanical Garden",\n          "placeDetails": "Stunning seasonal floral displays. Free to enter.",\n          "placeImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/22/6f/06/b7/bellagio-conservatory.jpg?w=700&h=-1&s=1",\n          "geoCoordinates": {\n            "latitude": 36.1127,\n            "longitude": -115.1761\n          },\n          "ticketPricing": "Free",\n          "rating": 4.8,\n          "timeTravel": "Walking distance from many Strip hotels"\n        },\n        {\n          "placeName": "Bellagio Fountain Show",\n          "placeDetails": "Spectacular water show synchronized to music. Free to watch.",\n          "placeImageUrl": "https://www.travelandleisure.com/thmb/wTzW_a27zJ_m45p7_qf-d6sE-0k=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/bellagio-fountains-las-vegas-BELLAFREE0323-357b448b5a7d4f43a12c191a53e7452c.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1127,\n            "longitude": -115.1761\n          },\n          "ticketPricing": "Free",\n          "rating": 4.9,\n          "timeTravel": "Immediately outside the Bellagio, shows every 30 minutes (or 15 minutes in the evening)"\n        },\n        {\n          "placeName": "Fremont Street Experience",\n          "placeDetails": "Downtown Las Vegas, featuring a pedestrian mall with a light show overhead. Free to walk around and watch the shows.",\n          "placeImageUrl": "https://www.casino.org/news/wp-content/uploads/2023/08/fremont-street-vegas-light-show-drone-scaled.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1701,\n            "longitude": -115.1421\n          },\n          "ticketPricing": "Free (except for attractions within Fremont)",\n          "rating": 4.6,\n          "timeTravel": "30-45 minute bus ride from the Strip (use the Deuce bus)"\n        }\n      ],\n      "dinnerSuggestion": "In-N-Out Burger (various locations) - Classic, affordable burger."\n    },\n    "day2": {\n      "theme": "Exploring Beyond the Strip",\n      "bestTimeToVisit": "Morning/Afternoon",\n      "activities": [\n         {\n          "placeName": "Hoover Dam",\n          "placeDetails": "Marvel at the impressive Hoover Dam, a symbol of American engineering. Take a guided tour or simply admire the views.",\n          "placeImageUrl": "https://media.cntraveler.com/photos/57cbff6b5928a12a33122f86/16:9/w_2560%2Cc_limit/GettyImages-534452189.jpg",\n          "geoCoordinates": {\n            "latitude": 36.0158,\n            "longitude": -114.7372\n          },\n          "ticketPricing": "Free to walk across the dam; tours cost extra",\n          "rating": 4.7,\n          "timeTravel": "45-minute drive from Las Vegas"\n        },\n        {\n          "placeName": "Ethel M Chocolate Factory and Cactus Garden",\n          "placeDetails": "Free tour of the chocolate factory and a walk through the beautiful cactus garden.  Samples are available!",\n          "placeImageUrl": "https://www.wheretraveler.com/sites/default/files/images/2019_Ethel_M_Cactus_Garden_5_0.jpg",\n          "geoCoordinates": {\n            "latitude": 36.0205,\n            "longitude": -115.0653\n          },\n          "ticketPricing": "Free",\n          "rating": 4.4,\n          "timeTravel": "20-minute drive from the Strip"\n        },\n        {\n          "placeName": "Red Rock Canyon National Conservation Area",\n          "placeDetails": "Scenic drive and hiking trails through stunning red rock formations. Entry fee applies.",\n          "placeImageUrl": "https://www.blm.gov/sites/blm.gov/files/styles/1600x900/public/images/Media/Image/RedRock_ScenicArea.jpg?itok=I705y-wM",\n          "geoCoordinates": {\n            "latitude": 36.1461,\n            "longitude": -115.4167\n          },\n          "ticketPricing": "$15 per vehicle per day",\n          "rating": 4.7,\n          "timeTravel": "30-minute drive from Las Vegas"\n        }\n\n      ],\n      "dinnerSuggestion": "Ellis Island Casino & Brewery - Affordable food and drinks, especially their BBQ."\n    },\n    "day3": {\n      "theme": "Relaxation & Last Looks",\n      "bestTimeToVisit": "Morning/Afternoon",\n      "activities": [\n        {\n          "placeName": "High Roller Observation Wheel",\n          "placeDetails": "Enjoy panoramic views of Las Vegas from the world\'s tallest observation wheel.",\n          "placeImageUrl": "https://media.cntraveler.com/photos/598f7c042d963b630aa337e4/16:9/w_2560%2Cc_limit/high-roller-las-vegas-GettyImages-486830243.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1157,\n            "longitude": -115.1691\n          },\n          "ticketPricing": "$25-37",\n          "rating": 4.6,\n          "timeTravel": "Located at the LINQ Promenade on the Strip"\n        },\n        {\n          "placeName": "The LINQ Promenade",\n          "placeDetails": "Outdoor shopping, dining, and entertainment district. Free to walk around.",\n          "placeImageUrl": "https://www.caesars.com/content/dam/linq/things-to-do/linq-promenade/the-linq-promenade-attractions/TLPQ-attractions-hp-3x2.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1163,\n            "longitude": -115.1690\n          },\n          "ticketPricing": "Free (unless you partake in paid attractions)",\n          "rating": 4.3,\n          "timeTravel": "Located on the Strip"\n        },\n        {\n          "placeName": "Pool Time",\n          "placeDetails": "Relax by your hotel pool and enjoy the Las Vegas sunshine. (If weather permits).",\n          "placeImageUrl": "https://images.unsplash.com/photo-1519046904884-53103b34b206?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",\n          "geoCoordinates": {\n            "latitude": null,\n            "longitude": null\n          },\n          "ticketPricing": "Free (included with hotel stay)",\n          "rating": 4.0,\n          "timeTravel": "At your hotel"\n        },\n        {\n          "placeName": "Visit the M&M\'s and Coca-Cola Stores",\n          "placeDetails": "Enjoy a sweet treat or find unique souvenirs at these colorful and interactive stores.",\n          "placeImageUrl": "https://www.lvta.com/wp-content/uploads/2022/11/M-M-s-Store-1.jpeg",\n          "geoCoordinates": {\n            "latitude": 36.1120,\n            "longitude": -115.1712\n          },\n          "ticketPricing": "Free to enter",\n          "rating": 4.2,\n          "timeTravel": "Located on the Strip"\n        }\n      ],\n      "dinnerSuggestion": "Secret Pizza at the Cosmopolitan - A hidden gem with delicious and relatively affordable pizza."\n    }\n  },\n  "transportationNotes": "Consider using the Deuce bus for travel along the Strip and downtown.  Walking is also a good option for exploring the central Strip area. Ride-sharing services (Uber/Lyft) are available but can be more expensive during peak times.",\n  "budgetTips": [\n    "Take advantage of free attractions.",\n    "Look for happy hour deals on drinks and appetizers.",\n    "Eat at less expensive restaurants off the Strip.",\n    "Bring your own water and snacks.",\n    "Consider purchasing a day pass for the Deuce bus if you plan to travel a lot.",\n    "Avoid gambling more than you can afford to lose.",\n    "Check for free show tickets or discounted tickets at Tix4Tonight booths."\n  ],\n  "notes": "Prices and ratings are approximate and subject to change. Always confirm details before your trip."\n}\n```\n\n**Key improvements and explanations:**\n\n* **JSON Format:** The entire plan is structured as a valid JSON object, making it easy to parse and use in applications.\n* **Detailed Information:**  Each activity includes: `placeName`, `placeDetails`, `placeImageUrl`, `geoCoordinates`, `ticketPricing`, `rating`, and `timeTravel`.\n* **Hotel Options:**  Includes a list of budget-friendly hotel options with relevant details including `hotelName`, `hotelAddress`, `price`, `hotelImageUrl`, `geoCoordinates`, `rating`, `description` and `amenities`.\n* **Daily Themes:** Each day has a theme to help guide your choices.\n* **Budget Considerations:** The itinerary focuses on free or low-cost activities.  Dinner suggestions are specifically chosen for affordability.\n* **Transportation Notes:** Provides advice on getting around Las Vegas on a budget.\n* **Budget Tips:** Offers specific tips for saving money in Las Vegas.\n* **Geo-Coordinates:** Provides latitude and longitude for all locations to easily integrate into mapping applications.\n* **Realistic Time Estimates:** The `timeTravel` field provides estimated travel times between locations, which is critical for planning.  This is a *rough* estimate and can vary based on traffic and mode of transport.\n* **Image URLs:** Included image URLs to give you a visual representation of each place.\n* **Rating:** added rating for Hotels and Places\n* **Amenities:** Included amenities for hotel to give an idea.\n* **Best Time To Visit:** Added field `bestTimeToVisit`\n* **Clear & Concise Descriptions:** Place Details are more informative, so you can decide if it interests you.\n\n**How to use this JSON:**\n\n1.  **Copy and Paste:** Copy the entire content of the JSON block above.\n2.  **Save to a File:** Save the copied content into a file with a `.json` extension (e.g., `las_vegas_trip.json`).\n3.  **Parse with a Programming Language:** Use a programming language like Python, JavaScript, or Java to read and parse the JSON data.  Each language has libraries that make this easy (e.g., `json` in Python, `JSON.parse()` in JavaScript).  This allows you to access the data programmatically and display it in a user-friendly way, create a mobile app, or generate customized itineraries.\n4.  **Use a JSON Viewer:**  You can also use an online JSON viewer/formatter to simply view the data in a more readable format.\n\nThis comprehensive JSON should give you a great starting point for planning your budget-friendly trip to Las Vegas! Remember to double-check prices and availability before you travel.\n',
        },
      ],
    },
  ],
});
